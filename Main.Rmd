---
title: "Main"
author: "Ng Joe Hoong"
date: "4/9/2021"
output: html_document
---


```{r load-packages, warning=FALSE}
#if (!require("pacman")) install.packages("pacman")
#pacman::p_load(quantmod, PerformanceAnalytics, dplyr, ggplot2, tidyr)
library(quantmod)
library(tidyverse)
library(lubridate)

```


```{r get-price-data}

tickers <- c('SPY', 'TLT')#, 'GLD', 'VXX', 'VXZ')
sDate <- ymd("2011-01-01")
eDate <- ymd("2020-12-31")


#create price download function
get_symbol <- function(ticker) {
  #Sys.sleep(10) # To prevent alpha vantage 5 calls per minute limit
  Ad(getSymbols(ticker, src="av", api.key="6LVGD8WA484YY2YS", output.size="full", auto.assign=FALSE, from = sDate, to = eDate, warning = FALSE, adjusted=TRUE))
  
}

raw_prices <- do.call(cbind,lapply(tickers,get_symbol))



```



